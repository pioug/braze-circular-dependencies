import{STORAGE_KEYS as o}from"./storage-manager.js";import u from"./subscription-manager.js";import r from"../../shared-lib/braze-shared-lib.js";export default class St{constructor(t,i,s){this.h=t,this.Fn=i||!1,this.qn=s,this.Bn=new u,this.Gn=0,this.Hn=1}Jn(){return this.Fn}Kn(){return this.h.I(o.q.Ln)}setSdkAuthenticationSignature(t){const i=this.Kn();this.h.B(o.q.Ln,t);const s=r.xt.Ft;new r.qt(s,r.D).setItem(s.$t.On,this.Hn,t),i!==t&&this.Bs()}Qn(){this.h.Is(o.q.Ln);const t=r.xt.Ft;new r.qt(t,r.D).br(t.$t.On,this.Hn)}subscribeToSdkAuthenticationFailures(t){return this.qn.ut(t)}Vn(t){this.qn.St(t)}Xn(){this.Bn.removeAllSubscriptions()}Yn(){this.Gn+=1}Zn(){return this.Gn}Bs(){this.Gn=0}}