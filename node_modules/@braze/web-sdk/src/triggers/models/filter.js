import{isDate as yt}from"../../util/code-utils.js";import{convertMsToSeconds as l,dateFromUnixTimestamp as h,secondsAgo as Ht,secondsInTheFuture as Ut}from"../../util/date-utils.js";export default class kt{constructor(t,s,e,i){this.El=t,this.Nl=s,this.comparator=e,this.Ml=i,this.Nl===kt.Hl.Rl&&this.comparator!==kt.Il.Ll&&this.comparator!==kt.Il.Ol&&this.comparator!==kt.Il.Ul&&this.comparator!==kt.Il.Dl&&(this.Ml=h(this.Ml))}zl(t){let s=null;switch(null!=t&&(s=t[this.El]),this.comparator){case kt.Il.Ql:return null!=s&&s.valueOf()===this.Ml.valueOf();case kt.Il.Xl:return null==s||s.valueOf()!==this.Ml.valueOf();case kt.Il.Gl:return typeof s==typeof this.Ml&&s>this.Ml;case kt.Il.Ll:return this.Nl===kt.Hl.Rl?null!=s&&yt(s)&&Ht(s)<=this.Ml:typeof s==typeof this.Ml&&s>=this.Ml;case kt.Il.Fl:return typeof s==typeof this.Ml&&s<this.Ml;case kt.Il.Ol:return this.Nl===kt.Hl.Rl?null!=s&&yt(s)&&Ht(s)>=this.Ml:typeof s==typeof this.Ml&&s<=this.Ml;case kt.Il.Jl:return null!=s&&"string"==typeof s&&typeof s==typeof this.Ml&&null!=s.match(this.Ml);case kt.Il.Vl:return null!=s;case kt.Il.Kl:return null==s;case kt.Il.Ul:return null!=s&&yt(s)&&Ut(s)<this.Ml;case kt.Il.Dl:return null!=s&&yt(s)&&Ut(s)>this.Ml;case kt.Il.Pl:return null==s||typeof s!=typeof this.Ml||"string"!=typeof s||null==s.match(this.Ml)}return!1}static fromJson(t){return new kt(t.property_key,t.property_type,t.comparator,t.property_value)}ss(){let t=this.Ml;return yt(this.Ml)&&(t=l(t.valueOf())),{k:this.El,t:this.Nl,c:this.comparator,v:t}}static Rn(t){return new kt(t.k,t.t,t.c,t.v)}}kt.Il={Ql:1,Xl:2,Gl:3,Ll:4,Fl:5,Ol:6,Jl:10,Vl:11,Kl:12,Ul:15,Dl:16,Pl:17},kt.Hl={Wl:"boolean",Yl:"number",Zl:"string",Rl:"date"};