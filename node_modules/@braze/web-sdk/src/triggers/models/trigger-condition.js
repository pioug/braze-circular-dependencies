import xt from"./custom-event-data.js";import Mt from"./custom-event-property-data.js";import Bt from"./filter-set.js";import Ft from"./in-app-message-click-data.js";import Gt from"./purchase-data.js";import Kt from"./purchase-property-data.js";import Qt from"./push-click-data.js";import Q from"./trigger-events.js";import r from"../../../shared-lib/braze-shared-lib.js";export default class Dt{constructor(e,t){this.type=e,this.data=t}ec(e,t){return Dt.tc[this.type]===e&&(null==this.data||this.data.zl(t))}static su(e,t){let a=null;try{a=window.atob(e)}catch(t){return r.D.info("Failed to unencode analytics id "+e+": "+t.message),!1}return t===a.split("_")[0]}static fromJson(e){const t=e.type;let r;switch(t){case Dt.rc.OPEN:r=null;break;case Dt.rc.Rr:r=Gt.fromJson(e.data);break;case Dt.rc.ac:r=Kt.fromJson(e.data);break;case Dt.rc.vr:r=Qt.fromJson(e.data);break;case Dt.rc.be:r=xt.fromJson(e.data);break;case Dt.rc.sc:r=Mt.fromJson(e.data);break;case Dt.rc.Ar:r=Ft.fromJson(e.data);break;case Dt.rc.ks:r=null}return new Dt(t,r)}ss(){return{t:this.type,d:this.data?this.data.ss():null}}static Rn(e){let t,r;switch(e.t){case Dt.rc.OPEN:t=null;break;case Dt.rc.Rr:t=new Gt(e.d);break;case Dt.rc.ac:r=e.d||{},t=new Kt(r.id,Bt.Rn(r.pf||[]));break;case Dt.rc.vr:t=new Qt(e.d);break;case Dt.rc.be:t=new xt(e.d);break;case Dt.rc.sc:r=e.d||{},t=new Mt(r.e,Bt.Rn(r.pf||[]));break;case Dt.rc.Ar:t=new Ft(e.d);break;case Dt.rc.ks:t=null}return new Dt(e.t,t)}}Dt.rc={OPEN:"open",Rr:"purchase",ac:"purchase_property",vr:"push_click",be:"custom_event",sc:"custom_event_property",Ar:"iam_click",ks:"test"},Dt.tc={},Dt.tc[Dt.rc.OPEN]=Q.OPEN,Dt.tc[Dt.rc.Rr]=Q.Rr,Dt.tc[Dt.rc.ac]=Q.Rr,Dt.tc[Dt.rc.vr]=Q.vr,Dt.tc[Dt.rc.be]=Q.be,Dt.tc[Dt.rc.sc]=Q.be,Dt.tc[Dt.rc.Ar]=Q.Ar,Dt.tc[Dt.rc.ks]=Q.ks;